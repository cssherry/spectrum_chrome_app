var uniqueId;function getRandomToken(){var a=new Uint8Array(32);crypto.getRandomValues(a);var c="";for(var b=0;b<a.length;++b){c+=a[b].toString(16)}return c}function saveOptions(){var c=document.getElementById("hidden").value;var b=document.getElementById("hiddenIcon").checked?"spectrum-no-button":null;var d=document.getElementById("username").value;var a={hidden:c,hiddenIcon:b,username:d,};if(!uniqueId){uniqueId=d+"-"+getRandomToken();a.uniqueId=uniqueId}chrome.storage.sync.set(a,function(){var e=document.getElementById("status");e.textContent="Options saved";setTimeout(function(){e.textContent=""},1000)})}function restoreOptions(){chrome.storage.sync.get({hidden:"",hiddenIcon:null,username:"",uniqueId:"",},function(a){document.getElementById("hidden").value=a.hidden||"";document.getElementById("hiddenIcon").checked=!!a.hiddenIcon;document.getElementById("username").value=a.username;uniqueId=a.uniqueId})}document.addEventListener("DOMContentLoaded",restoreOptions);document.getElementById("save").addEventListener("click",saveOptions);