function sendMessage(a,b){chrome.tabs.query({active:true,currentWindow:true},function(c){var d=c[0].id;chrome.tabs.sendMessage(d,a,b)})}function addSpectrumEvents(){var b=$(".spectrum-popup-body");var e=b.find('[data-show-type="hidden"]');var a=b.find('[data-show-type="hiddenIcon"]');var c={action:"getLocalStorage",localValues:["hidden","hiddenIcon"],};sendMessage(c,function(f){if(f.hidden){e.filter(".spectrum-hide-panel").hide()}else{e.filter(".spectrum-show-option").hide()}if(f.hiddenIcon){a.filter(".spectrum-hide-panel").hide()}else{a.filter(".spectrum-show-option").hide()}});function d(f){if(f==="hidden"){e.toggle()}else{a.toggle()}}b.on("click.hidePanel",".spectrum-hide-panel",function(h){var g=h.target.dataset;var f={action:"hideSpectrumPanel",typeButton:g.hideType,showType:g.showType,};d(g.showType);sendMessage(f)});b.on("click.showPanel",".spectrum-show-option",function(g){var h=g.target.dataset.showType;var f={action:"showSpectrumPanel",showType:h};d(h);sendMessage(f)})}document.addEventListener("DOMContentLoaded",function(){addSpectrumEvents()});