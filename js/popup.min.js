function sendMessage(a,b){chrome.tabs.query({active:true,currentWindow:true},function(c){var d=c[0].id;chrome.tabs.sendMessage(d,a,b)})}function addSpectrumEvents(){var e;var b=$(".spectrum-popup-body");var f=b.find('[data-show-type="hidden"]');var a=b.find('[data-show-type="hiddenIcon"]');var c={action:"getLocalStorage",localValues:["hidden","hiddenIcon"],};sendMessage(c,function(g){if(g.hidden){f.filter(".spectrum-hide-panel").hide()}else{f.filter(".spectrum-show-option").hide()}if(g.hiddenIcon){a.filter(".spectrum-hide-panel").hide()}else{a.filter(".spectrum-show-option").hide()}});chrome.runtime.onMessage.addListener(function(g){if(g.action==="spectrumEnabled"){b.removeClass("spectrum-disabled")}});function d(g){if(g==="hidden"){f.toggle()}else{a.toggle()}}b.on("click.hidePanel",".spectrum-hide-panel",function(i){var h=i.target.dataset;var g={action:"hideSpectrumPanel",typeButton:h.hideType,showType:h.showType,};d(h.showType);sendMessage(g)});b.on("click.showPanel",".spectrum-show-option",function(h){var i=h.target.dataset.showType;var g={action:"showSpectrumPanel",showType:i,};d(i);sendMessage(g)})}document.addEventListener("DOMContentLoaded",function(){addSpectrumEvents()});